<?php

namespace Database\Seeders;

use App\Models\GroupeParlementaire;
use Illuminate\Database\Seeder;

class GroupesParlementairesSeeder extends Seeder
{
    /**
     * Seed the application's database.
     */
    public function run(): void
    {
        $this->command->info('ðŸ›ï¸ CrÃ©ation des groupes parlementaires...');

        $groupes = [
            // AssemblÃ©e Nationale - 17Ã¨me lÃ©gislature (2024-2029)
            [
                'nom' => 'Renaissance',
                'slug' => 'renaissance',
                'sigle' => 'RE',
                'chambre' => 'assemblee',
                'position_politique' => 'centre',
                'couleur_hex' => '#FFEB00',
                'nombre_membres' => 169,
                'president' => 'Sylvain Maillard',
                'description' => 'Groupe de la majoritÃ© prÃ©sidentielle, issu de La RÃ©publique En Marche.',
                'site_web' => 'https://www.assemblee-nationale.fr/dyn/17/organes/groupes-politiques/renaissance',
                'est_actif' => true,
                'legislature' => 17,
                'legislature' => 17,
            ],
            [
                'nom' => 'Rassemblement National',
                'slug' => 'rassemblement-national',
                'sigle' => 'RN',
                'chambre' => 'assemblee',
                'position_politique' => 'extreme_droite',
                'couleur_hex' => '#0D378A',
                'nombre_membres' => 142,
                'president' => 'Marine Le Pen',
                'description' => 'Principal groupe d\'opposition de droite nationaliste.',
                'site_web' => 'https://www.assemblee-nationale.fr/dyn/17/organes/groupes-politiques/rassemblement-national',
                'est_actif' => true,
                'legislature' => 17,
            ],
            [
                'nom' => 'La France Insoumise - Nouveau Front Populaire',
                'slug' => 'lfi-nfp',
                'sigle' => 'LFI-NFP',
                'chambre' => 'assemblee',
                'position_politique' => 'gauche',
                'couleur_hex' => '#CC2443',
                'nombre_membres' => 71,
                'president' => 'Mathilde Panot',
                'description' => 'Groupe de gauche radicale et Ã©cologiste.',
                'site_web' => 'https://www.assemblee-nationale.fr/dyn/17/organes/groupes-politiques/lfi-nfp',
                'est_actif' => true,
                'legislature' => 17,
            ],
            [
                'nom' => 'Les RÃ©publicains',
                'slug' => 'les-republicains',
                'sigle' => 'LR',
                'chambre' => 'assemblee',
                'position_politique' => 'droite',
                'couleur_hex' => '#0066CC',
                'nombre_membres' => 47,
                'president' => 'Olivier Marleix',
                'description' => 'Groupe de la droite rÃ©publicaine et gaulliste.',
                'site_web' => 'https://www.assemblee-nationale.fr/dyn/17/organes/groupes-politiques/les-republicains',
                'est_actif' => true,
                'legislature' => 17,
            ],
            [
                'nom' => 'Parti Socialiste et apparentÃ©s',
                'slug' => 'socialistes',
                'sigle' => 'SOC',
                'chambre' => 'assemblee',
                'position_politique' => 'gauche',
                'couleur_hex' => '#FF8080',
                'nombre_membres' => 66,
                'president' => 'Boris Vallaud',
                'description' => 'Groupe socialiste et social-dÃ©mocrate.',
                'site_web' => 'https://www.assemblee-nationale.fr/dyn/17/organes/groupes-politiques/socialistes',
                'est_actif' => true,
                'legislature' => 17,
            ],
            [
                'nom' => 'Horizons et apparentÃ©s',
                'slug' => 'horizons',
                'sigle' => 'HOR',
                'chambre' => 'assemblee',
                'position_politique' => 'centre',
                'couleur_hex' => '#FF6600',
                'nombre_membres' => 34,
                'president' => 'Laurent Marcangeli',
                'description' => 'Groupe centriste fondÃ© par Ã‰douard Philippe.',
                'site_web' => 'https://www.assemblee-nationale.fr/dyn/17/organes/groupes-politiques/horizons',
                'est_actif' => true,
                'legislature' => 17,
            ],
            [
                'nom' => 'Ã‰cologiste - NUPES',
                'slug' => 'ecologistes',
                'sigle' => 'ECOLO',
                'chambre' => 'assemblee',
                'position_politique' => 'gauche',
                'couleur_hex' => '#00C000',
                'nombre_membres' => 38,
                'president' => 'Cyrielle Chatelain',
                'description' => 'Groupe Ã©cologiste et de gauche environnementale.',
                'site_web' => 'https://www.assemblee-nationale.fr/dyn/17/organes/groupes-politiques/ecologistes',
                'est_actif' => true,
                'legislature' => 17,
            ],
            [
                'nom' => 'DÃ©mocrate (MoDem et IndÃ©pendants)',
                'slug' => 'democrate',
                'sigle' => 'DEM',
                'chambre' => 'assemblee',
                'position_politique' => 'centre',
                'couleur_hex' => '#FF9900',
                'nombre_membres' => 50,
                'president' => 'Jean-Paul Mattei',
                'description' => 'Groupe centriste du MoDem et alliÃ©s.',
                'site_web' => 'https://www.assemblee-nationale.fr/dyn/17/organes/groupes-politiques/democrate',
                'est_actif' => true,
                'legislature' => 17,
            ],
            [
                'nom' => 'LibertÃ©s, IndÃ©pendants, Outre-mer et Territoires',
                'slug' => 'liot',
                'sigle' => 'LIOT',
                'chambre' => 'assemblee',
                'position_politique' => 'centre',
                'couleur_hex' => '#ADD8E6',
                'nombre_membres' => 22,
                'president' => 'Bertrand Pancher',
                'description' => 'Groupe centriste indÃ©pendant et territoires d\'outre-mer.',
                'site_web' => 'https://www.assemblee-nationale.fr/dyn/17/organes/groupes-politiques/liot',
                'est_actif' => true,
                'legislature' => 17,
            ],
            [
                'nom' => 'Gauche DÃ©mocrate et RÃ©publicaine',
                'slug' => 'gdr',
                'sigle' => 'GDR',
                'chambre' => 'assemblee',
                'position_politique' => 'gauche',
                'couleur_hex' => '#DD0000',
                'nombre_membres' => 22,
                'president' => 'AndrÃ© Chassaigne',
                'description' => 'Groupe communiste et rÃ©publicain.',
                'site_web' => 'https://www.assemblee-nationale.fr/dyn/17/organes/groupes-politiques/gdr',
                'est_actif' => true,
                'legislature' => 17,
            ],

            // SÃ©nat
            [
                'nom' => 'Les RÃ©publicains (SÃ©nat)',
                'slug' => 'lr-senat',
                'sigle' => 'LR',
                'chambre' => 'senat',
                'position_politique' => 'droite',
                'couleur_hex' => '#0066CC',
                'nombre_membres' => 139,
                'president' => 'Bruno Retailleau',
                'description' => 'Groupe majoritaire au SÃ©nat, droite rÃ©publicaine.',
                'site_web' => 'https://www.senat.fr/groupe/lr.html',
                'est_actif' => true,
                'legislature' => 17,
            ],
            [
                'nom' => 'Union Centriste (SÃ©nat)',
                'slug' => 'uc-senat',
                'sigle' => 'UC',
                'chambre' => 'senat',
                'position_politique' => 'centre',
                'couleur_hex' => '#00CCFF',
                'nombre_membres' => 57,
                'president' => 'HervÃ© Marseille',
                'description' => 'Groupe centriste du SÃ©nat.',
                'site_web' => 'https://www.senat.fr/groupe/uc.html',
                'est_actif' => true,
                'legislature' => 17,
            ],
            [
                'nom' => 'Socialiste, Ã‰cologiste et RÃ©publicain (SÃ©nat)',
                'slug' => 'ser-senat',
                'sigle' => 'SER',
                'chambre' => 'senat',
                'position_politique' => 'gauche',
                'couleur_hex' => '#FF8080',
                'nombre_membres' => 64,
                'president' => 'Patrick Kanner',
                'description' => 'Groupe de gauche au SÃ©nat.',
                'site_web' => 'https://www.senat.fr/groupe/ser.html',
                'est_actif' => true,
                'legislature' => 17,
            ],
            [
                'nom' => 'Rassemblement DÃ©mocratique et Social EuropÃ©en (SÃ©nat)',
                'slug' => 'rdse-senat',
                'sigle' => 'RDSE',
                'chambre' => 'senat',
                'position_politique' => 'centre',
                'couleur_hex' => '#FFD700',
                'nombre_membres' => 15,
                'president' => 'Mathieu Darnaud',
                'description' => 'Groupe centriste et radical au SÃ©nat.',
                'site_web' => 'https://www.senat.fr/groupe/rdse.html',
                'est_actif' => true,
                'legislature' => 17,
            ],
            [
                'nom' => 'Communiste RÃ©publicain Citoyen et Ã‰cologiste (SÃ©nat)',
                'slug' => 'crce-senat',
                'sigle' => 'CRCE',
                'chambre' => 'senat',
                'position_politique' => 'gauche',
                'couleur_hex' => '#DD0000',
                'nombre_membres' => 15,
                'president' => 'CÃ©cile Cukierman',
                'description' => 'Groupe communiste au SÃ©nat.',
                'site_web' => 'https://www.senat.fr/groupe/crce.html',
                'est_actif' => true,
                'legislature' => 17,
            ],
            [
                'nom' => 'Rassemblement des DÃ©mocrates, Progressistes et IndÃ©pendants (SÃ©nat)',
                'slug' => 'rdpi-senat',
                'sigle' => 'RDPI',
                'chambre' => 'senat',
                'position_politique' => 'centre',
                'couleur_hex' => '#FFEB00',
                'nombre_membres' => 23,
                'president' => 'FranÃ§oise Gatel',
                'description' => 'Groupe de la majoritÃ© prÃ©sidentielle au SÃ©nat.',
                'site_web' => 'https://www.senat.fr/groupe/rdpi.html',
                'est_actif' => true,
                'legislature' => 17,
            ],
        ];

        foreach ($groupes as $groupe) {
            // Ajouter 'source' basÃ© sur 'chambre' pour la contrainte unique
            $groupe['source'] = $groupe['chambre'];
            GroupeParlementaire::create($groupe);
        }

        $this->command->info('âœ“ ' . count($groupes) . ' groupes parlementaires crÃ©Ã©s');
        $this->command->info('  â†’ ' . count(array_filter($groupes, fn($g) => $g['chambre'] === 'assemblee')) . ' groupes AssemblÃ©e Nationale');
        $this->command->info('  â†’ ' . count(array_filter($groupes, fn($g) => $g['chambre'] === 'senat')) . ' groupes SÃ©nat');
    }
}

